using Airline.Domain.Entity;
using System;
using System.Collections.Generic;
using System.Threading.Tasks;

namespace Airline.Domain.Services;

/// <summary>
/// ????????? ???????????, ??????? ????????? ???????? ? ???????.
/// </summary>	
public interface IFlightRepo
{
	/// <summary>
	/// ???????? ?????? ???? ??????.
	/// </summary>
	/// <returns>?????? ???? ??????.</returns>
	Task<IList<Flight>> GetAll();

	/// <summary>
	/// ???????? ???? ?? id.
	/// </summary>
	/// <param name="id">????????????? ?????.</param>
	/// <returns>???? ? ????????? ??????????????? ??? null, ???? ???? ?? ??????.</returns>
	Task<Flight?> GetById(int id);

	/// <summary>
	/// ???????? ????? ???? .
	/// </summary>
	/// <param name="flight">???? ??? ??????????.</param>
	/// <returns>??????????? ????.</returns>
	Task<Flight> Add(Flight flight);

	/// <summary>
	/// ???????? ???????????? ????.
	/// </summary>
	/// <param name="flight">???? ? ???????????? ???????.</param>
	/// <returns>??????????? ????.</returns>
	Task<Flight> Update(Flight flight);

	/// <summary>
	/// ??????? ???? ?? ??? id.
	/// </summary>
	/// <param name="id">????????????? ????? ??? ????????.</param>
	/// <returns>True, ???? ???? ??? ??????; ????? False.</returns>
	Task<bool> Delete(int id);

	/// <summary>
	/// ???????? ?????? ?????? ?? ?????????? ????????.
	/// </summary>
	/// <param name="departurePoint">????? ???????????.</param>
	/// <param name="arrivalPoint">????? ??????????.</param>
	/// <returns>?????? ??????, ??????????????? ?????????? ????????.</returns>
	Task<IList<Flight>> GetFlightsByRoute(string departurePoint, string arrivalPoint);

	/// <summary>
	/// ???????? ?????? ?????? ?? ???? ???????? ? ??????? ???????.
	/// </summary>
	/// <param name="aircraftType">??? ????????.</param>
	/// <param name="startDate">????????? ???? ???????.</param>
	/// <param name="endDate">???????? ???? ???????.</param>
	/// <returns>?????? ??????, ??????????????? ????????? ?????????.</returns>
	Task<IList<Flight>> GetFlightsByAircraftTypeAndPeriod(string aircraftType, DateTime startDate, DateTime endDate);

	/// <summary>
	/// ???????? ???-5 ?????? ?? ?????????? ??????????.
	/// </summary>
	/// <returns>?????? ?? 5 ?????? ? ?????????? ??????????? ??????????.</returns>
	Task<IList<Flight>> GetTop5FlightsByPassengerCount();

	/// <summary>
	/// ???????? ?????? ?????? ? ??????????? ???????? ? ????.
	/// </summary>
	/// <returns>?????? ?????? ? ??????????? ???????? ? ????.</returns>
	Task<IList<Flight>> GetFlightsWithMinTravelTime();

	/// <summary>
	/// ???????? ??????? ? ???????????? ???????? ?????? ?? ?????????? ?????? ???????????.
	/// </summary>
	/// <param name="departurePoint">????? ???????????.</param>
	/// <returns>??????, ?????????? ??????? ? ???????????? ???????? ??????.</returns>
	Task<(double AverageLoad, double MaxLoad)> GetFlightLoadByDeparturePoint(string departurePoint);
}